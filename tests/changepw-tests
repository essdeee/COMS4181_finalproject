!/bin/bash

function pause(){
read -p "$*"
}

cd system/client

echo 'changepw- valid test:'
echo 'running bin/changepw addleness -op Cardin_pwns -np Cardin_pwns2'
bin/getcert addleness -op Cardin_pwns -np Cardin_pwns2
pause 'Press [Enter] key to continue...'
echo ''

echo 'changepw- unread messages test:'
echo 'running echo 'Test message' >> outbound/00001'
echo 'Test message' >> outbound/00001
echo 'running bin/sendmsg outbound/00001 addleness -p Cardin_pwns
echo 'running bin/changepw addleness -op Cardin_pwns -np Cardin_pwns2'
bin/getcert addleness -op Cardin_pwns -np Cardin_pwns2
pause 'Press [Enter] key to continue...'
echo ''

echo 'getcert- buffer overflow in username test:'
echo 'running bin/getcert invaliduserrnamethatismuchtoolongandcouldbeapotentialoverflowattempt'
bin/getcert invaliduserrnamethatismuchtoolongandcouldbeapotentialoverflowattempt
pause 'Press [Enter] key to continue...'
echo ''

echo 'getcert- invalid username test:'
echo 'running bin/getcert invalidusername'
bin/getcert invalidusername
pause 'Press [Enter] key to continue...'
echo ''

echo 'getcert- invalid password test:'
echo 'running bin/getcert addleness -p invalidpassword'
bin/getcert addleness -p invalidpassword
pause 'Press [Enter] key to continue...'
echo ''

echo 'getcert- buffer overflow in password test:'
echo 'running bin/getcert addleness -p invalidpasswordthatismuchtoolongandcouldbeapotentialoverflowattempt'
bin/getcert addleness -p invalidpasswordthatismuchtoolongandcouldbeapotentialoverflowattempt 
pause 'Press [Enter] key to continue...'
echo ''

cd ../../
